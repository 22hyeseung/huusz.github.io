<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="마우스 누르는 게 세상에서 제일 귀찮은 휴지의 개발블로그">
  <meta name="keyword" content="huusz, frontend">
  
    <link rel="shortcut icon" href="/css/images/favi.png">
  
  <title>
    
      git remote prune, git prune, git fetch --prune 등등 명령들 간 무슨 차이가 있나요? | 휴지블로그
    
  </title>
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/gitment.css">
  <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <script src="//cdn.bootcss.com/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>
  <script src="/js/qrious.js"></script>
<script src="/js/gitment.js"></script>
</head>
<div class="wechat-share">
  <img src="/css/images/logo.png" />
</div>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>휴지블로그</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">Home</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/tags/" class="item-link">Tags</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">Archives</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/project/" class="item-link">Projects</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">About</a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">Home</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/tags/" class="menu-link">Tags</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">Archives</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/project/" class="menu-link">Projects</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">About</a>
            
          </li>
        
      </ul>
    </div>
  </div>
</header>

    <div id="article-banner">
  <h2>git remote prune, git prune, git fetch --prune 등등 명령들 간 무슨 차이가 있나요?</h2>
  <p class="post-date">2017-10-20</p>
  <div class="arrow-down">
    <a href="javascript:;"></a>
  </div>
</div>
<main class="app-body flex-box">
  <!-- Article START -->
  <article class="post-article">
    <section class="markdown-content"><p><img src="http://www.unixstickers.com/image/cache/data/stickers/git/git-type.sh-600x600.png" alt=""></p>
<blockquote>
<p>본 내용은 <a href="https://stackoverflow.com/questions/20106712/what-are-the-differences-between-git-remote-prune-git-prune-git-fetch-prune" target="_blank" rel="external">StackOverflow</a>에 올라온 답글에 대한 번역글 입니다.</p>
</blockquote>
<hr>
<p>모든 리모트 브랜치는 잠재적으로 아래 세가지 버전으로 존재합니다.</p>
<ol>
<li>remote branch</li>
<li>ref branch</li>
<li>local branch</li>
</ol>
<p>1번 브랜치는 리모트 저장소에 실제로 존재하는 브랜치 입니다. 2번은 리모트 브랜치에 대한 사용자의 스냅샷(snapshot)으로, 로컬에 존재하며 <code>refs/remotes/..</code> 로 보관됩니다. 3번은 로컬 저장소에 존재하는 브랜치로, 리모트 브랜치를 추적(tracking)하는 브랜치입니다.</p>
<p><br></p>
<h2 id="git-prune"><a href="#git-prune" class="headerlink" title="git prune"></a><code>git prune</code></h2><p><code>git prune</code>은 더 이상 참조 되지 않는 <strong><em>객체(Object)</em></strong>를 제거합니다. reference들을 제거하는 것이 아닙니다. 질문자의 경우, 질문자는 로컬 브랜치(3)를 보유하고 있습니다. 그말은 즉, <code>random_branch_I_want_deleted</code> 라는 이름의 ref 브랜치(2)가 존재하고, 이 ref 브랜치는 해당 브랜치의 히스토리를 표현하는 몇 가지 객체를 가지고 있음을 의미합니다.</p>
<p>정의에 따르면, <code>git prune</code>은 <code>random_branch_I_want_deleted</code> 브랜치를 지우지 않을 것입니다. <code>git prune</code>은 실제로 git에 쌓이긴 했지만 유용하게 참조 되는 경우가 없는 데이터를 삭제하는 방법입니다.</p>
<p>일반적으로, 당신에게 실제로 보이는 브랜치(1,3) view에는 어떠한 영향도 미치지 않습니다. (명령어를 적용한 전 후 외견상 차이를 감지하지 못할 수 있습니다.)</p>
<p><code>git remote prune origin</code> 와 <code>git fetch --prune</code> 는 둘 다 <code>refs/remotes/...</code> 아래에 있는 reference들에 대해 동일한 작업을 수행합니다. (이제 <code>refs/remotes/...</code> 아래에 있는 reference들을 <strong>remote reference</strong>라 부르겠습니다.) 이 remote reference들은 로컬 브랜치들에는 아무런 영향도 주지 않습니다. <code>git remote prune origin</code>은 당신이 특정 리모트 아래 있는 remote reference를 지우길 원할 때에만 유용합니다. 그렇지 않고서야, <code>git remote prune origin</code>과 <code>git fetch --prune</code>은 완벽하게 같은 작업을 수행합니다. </p>
<p>요약하면, <code>git remote prune</code>과 <code>git fetch --prune</code>은 위의 3가지 분류 중 2번인, <code>ref 브랜치</code>에 대한 작업만 합니다.</p>
<p>로컬 브랜치(3)를 지우고자 한다면, <code>git branch -d</code>(만약 지우려는 대상이 어디에도 merge 된 적 없는 브랜치라면 <code>git branch -D</code> 명령으로 강제로 삭제할 수 있습니다.)</p>
<p>어쨌든, 리모트 브랜치(1)가 사라진(지워진) 경우, 해당 리모트 브랜치(1)를 추적(tracking)하는 로컬 브랜치(3)를 자동으로 지워 주는 git 명령어는 존재하지 않습니다.</p>
<p><em>answered Nov 20 ‘13 at 21:14 jszakmeister</em></p>
<hr>
<p><br></p>
<p><code>git remote prune</code>과 <code>git fetch --prune</code>은 같은 일을 합니다. 리모트 저장소에 더 이상 존재하지 않는 브랜치들에 해당하는 ref들을 지웁니다. 다만, <code>git fetch --prune</code> 명령은 리모트 저장소에 연결합니다. 그리고 pruning하기 전에 저장소의 현재(존재하는) 브랜치들을 fetch합니다. 하지만 이 명령들은 로컬 브랜치는 터치하지 않습니다. (리모트 저장소에 삭제된 브랜치에 대한 ref가 로컬에 남아 있으면 그걸 삭제해줄 뿐, 로컬에 남아 있는 브랜치는 삭제해주지 않는다는 말.) 남은 로컬 브랜치가 존재하는지는 본인이 직접 확인해서, <code>git branch -d</code> 명령을 통해서 간단하게 삭제해야 합니다. <code>git prune</code>은 조금 다르게 동작합니다. 이 명령은 변경할 수 없는 객체나 어떤 브랜치나 태그에서도 도달할 수 없는, 따라서 더이상 필요하지 않은 커밋들을 깨끗하게 제거합니다.</p>
<p><em>answered Nov 20 ‘13 at 21:04 CharlesB</em></p>
</section>
    <!-- Tags START -->
    
      <div class="tags">
        <span>Tags:</span>
        
  <a href="/tags#github" >
    <span class="tag-code">github</span>
  </a>

      </div>
    
    <!-- QR code START -->
    <div class="qrcode">
      <canvas id="share-qrcode"></canvas>
      <p class="notice">QR코드를 스캔해서 공유하세요!</p>
    </div>
    <!-- QR code END -->
    
      <!-- No Comment -->
    
  </article>
  <!-- Article END -->
  <!-- Catalog START -->
  
    <aside class="catalog-container">
  <div class="toc-main">
    <strong class="toc-title">Catalog</strong>
    
      <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#git-prune"><span class="toc-nav-text">git prune</span></a></li></ol>
    
  </div>
</aside>
  
  <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'http://huusz.github.io/2017/Git/GIT/02.diffrence-branch-command/';
    var banner = ''
    if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }
    $('.header').removeClass('fixed-header')

     // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', 'http://file.muyutech.com/error-img.png')
      $(this).css({
        'cursor': 'default'
      })
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      if (src !== 'http://file.muyutech.com/error-img.png') {
        var imageW = $(this).width()
        var imageH = $(this).height()
        
        var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
        zoom = zoom < 1 ? 1 : zoom
        zoom = zoom > 2 ? 2 : zoom
        var transY = (($(window).height() - imageH) / 2).toFixed(2)

        $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
        $('.image-view-wrap').addClass('wrap-active')
        $('.image-view-wrap img').css({
          'width': `${imageW}`,
          'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
        })
        $('html').css('overflow', 'hidden')

        $('.image-view-wrap').on('click', function() {
          $(this).remove()
          $('html').attr('style', '')
        })
      }
    })

    // qrcode
    var qr = new QRious({
      element: document.getElementById('share-qrcode'),
      value: document.location.href
    });

    // gitment
    var gitmentConfig = "";
    if (gitmentConfig !== 'undefined') {
      var gitment = new Gitment({
        id: "git remote prune, git prune, git fetch --prune 등등 명령들 간 무슨 차이가 있나요?",
        owner: "",
        repo: "",
        oauth: {
          client_id: "",
          client_secret: ""
        },
        theme: {
          render(state, instance) {
            const container = document.createElement('div')
            container.lang = "en-US"
            container.className = 'gitment-container gitment-root-container'
            container.appendChild(instance.renderHeader(state, instance))
            container.appendChild(instance.renderEditor(state, instance))
            container.appendChild(instance.renderComments(state, instance))
            container.appendChild(instance.renderFooter(state, instance))
            return container;
          }
        }
      })
      gitment.render(document.getElementById('comments'))
    }
  })();
</script>

    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
  <p class="copyright">
    &copy; 2017 | Proudly powered by <a href="https://hexo.io" target="_blank">Hexo</a>
    <br>
    Theme by <a href="https://github.com/yanm1ng">yanm1ng</a>
  </p>
</footer>

<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
</script>
<script>
  async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
    FastClick.attach(document.body);
  })
</script>

<script>
  var hasLine = 'true';
  async("//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js", function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine === 'false') {
        figure.find('.gutter').hide();
      }
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);
    });
  })
</script>
<!-- Baidu Tongji -->

<script src="/js/script.js"></script>
  </body>
</html>